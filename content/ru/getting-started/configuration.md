---
title: Настройка Hugo
linktitle: Конфигурация
description: Как настроить сайт и среду разработки Hugo.
date: 2013-07-01
publishdate: 2017-01-02
categories: [getting started,fundamentals]
keywords: [configuration,toml,yaml,json]
menu:
  docs:
    parent: "getting-started"
    weight: 60
weight: 60
sections_weight: 60
aliases: [/overview/source-directory/,/overview/configuration/]
toc: true
---

## Файл конфигурации

Hugo использует файлы `config.toml`, `config.yaml` или `config.json` (если они находятся в
корне сайта) в качестве файла конфигурации сайта по умолчанию.

Пользователь может переопределить используемый по умолчанию файл конфигурации с помощью параметра командной строки `--config`.

Например:

```txt
hugo --config debugconfig.toml
hugo --config a.toml,b.toml,c.toml
```

{{% note %}}
Несколько файлов конфигурации сайта можно указать в виде строки, разделенной запятыми, после флага командной строки `--config`.
{{% /note %}}

## Каталог конфигурации

В дополнение к использованию одного файла конфигурации сайта, можно использовать каталог `configDir` (по умолчанию `config/`), для более простой организации и настройки, специфичной для среды.

- Каждый файл представляет корневой объект, например  `params.toml` для `[Params]`, `menu(s).toml` для `[Menu]`, `languages.toml` для `[Languages]` и т. п. ...
- Содержимое каждого файла представляющего раздел конфигурации (корневой объект) должно быть, перемещено на корневой уровень, например:

{{< code-toggle file="config" >}}
[Params]
  foo = "bar"
{{< /code-toggle >}}

{{< code-toggle file="params" >}}
foo = "bar"
{{< /code-toggle >}}

- Каждый каталог содержит группу файлов, содержащих настройки, уникальные для среды (default, prodaction, staging).
- Файлы могут быть локализованы, чтобы они соответствовали языку.


```txt
├── config
│   ├── _default
│   │   ├── config.toml
│   │   ├── languages.toml
│   │   ├── menus.en.toml
│   │   ├── menus.zh.toml
│   │   └── params.toml
│   ├── production
│   │   ├── config.toml
│   │   └── params.toml
│   └── staging
│       ├── config.toml
│       └── params.toml
```

Учитывая приведенную выше структуру, при запуске `hugo --environment staging`, Hugo будет использовать все настройки из `config/_default` и объединять `staging` поверх них.

Приведем пример, чтобы понять это лучше. Допустим, вы используете Google Analytics для своего веб-сайта. Для этого необходимо указать `googleAnalytics = "G-XXXXXXXX"` в `config.toml`. Теперь рассмотрим следующий сценарий:
- Вы не хотите, чтобы код Analytics загружался в процессе разработки, т.е. на вашем `localhost`
– Вы хотите использовать отдельные идентификаторы Google Analytics для рабочей и тестовой сред:
  - `G-PPPPPPPP` для рабочей среды (prodaction)
  - `G-SSSSSSSS` для тестовой среды (staging)

Вот как вам нужно настроить файлы `config.toml`, учитывая описанный выше сценарий:
1. В `_default/config.toml` вообще не нужно указывать параметр googleAnalytics. Это гарантирует, что код Google Analytics не будет загружен на ваш сервер разработки, например, когда вы запускаете `hugo server`. Это работает, поскольку по умолчанию Hugo устанавливает `Environment=development`, когда вы запускаете `hugo server`, который использует файлы конфигурации из папки `_default`.

2. В `production/config.toml` вам просто нужно иметь одну строку:

    ```
    googleAnalytics = "G-PPPPPPPP"
    ```

  Вам не нужно снова упоминать все другие параметры, такие как `title`, `baseURL`, `theme` и т. д. в этом файле конфигурации. Вам нужно указать только те параметры, которые отличаются или являются новыми для рабочей среды. Это связано с тем, что Hugo __объединит__ эту настройку поверх `_default/config.toml`. Теперь, когда вы запускаете `hugo` (команда сборки), по умолчанию Hugo устанавливает `Environment=production`, поэтому код аналитики `G-PPPPPPPP` будет присутствовать на вашем рабочем веб-сайте.

3. Точно так же в `staging/config.toml` вам просто нужно иметь одну строку:

    ```
    googleAnalytics = "G-SSSSSSSS"
    ```

  Теперь вам нужно сообщить Хьюго, что вы используете тестовую среду (staging). Таким образом, ваша команда сборки должна быть `hugo --environment staging`, которая загрузит код аналитики `G-SSSSSSSS` на вашем тестовом веб-сайте.

{{% note %}}
Средами по умолчанию являются __development__ c командой `hugo server` и __production__ с командой `hugo`.
{{%/ note %}}

## Объединение с конфигурацией  из директории темы

Значение конфигурации `_merge` может быть одним из:

none
: Нет слияния.

shallow
: Добавляются значения только новых параметров.

deep
: Добавляются значения новых параметров и объединяются существующие.

Обратите внимание, что вам не нужно указывать все праметры из приведенных значений по умолчанию, значение `_merge` будет унаследовано, если не установлено.

Значения по умолчанию:

{{< code-toggle config="mergeStrategy" skipHeader=true />}}

## Все параметры конфигурации

Ниже приведен полный список определенных Hugo переменных с их значениями по умолчанию.
значение в скобках. Пользователи могут переопределить эти значения на своем сайте в файлах конфигурации.

### archetypeDir

**Значение по умолчанию** "archetypes"

Директория, в которой Hugo находит файлы c шаблонами заголовков Front Matter. {{% module-mounts-note-ru %}}

### assetDir

**Значение по умолчанию** "assets"

Каталог, в котором Hugo находит файлы активов (css, jpg, csv и пр.) , используемые в обработчиках [Hugo Pipes](/ru/hugo-pipes/). {{% module-mounts-note-ru %}}

### baseURL

Имя хоста (и путь) к корню, например: https://www.siteko.net/

### build

См. [Конфигурация сборки](#%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D1%81%D0%B1%D0%BE%D1%80%D0%BA%D0%B8)

### buildDrafts (false)

**Значение по умолчанию** false

Если параметр установлен в значение `true` в сборку будут включен контент не имеющий в заголовках Front Matter параметра `draft: true`

### buildExpired

**Значение по умолчанию** false

Включить контент с истекшим сроком `expiryDate` в настройках Front Matter.

### buildFuture

**Значение по умолчанию** false

Включить контент с датой публикации в будущем `publishDate` в настройках Front Matter.

### caches

См. [Настройка кеширования файлов](/ru/getting-started/configuration/#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D0%BA%D0%B5%D1%88%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F-%D1%84%D0%B0%D0%B9%D0%BB%D0%BE%D0%B2)

### cascade

Передает значения конфигурации в заголовках Front Matter на страницы глубже в дереве содержимого. Параметры в конфигурации сайта такие же, как и в заголовках Front Matter, см. [Каскады Front Matter](/ru/content-management/front-matter/#%D0%BA%D0%B0%D1%81%D0%BA%D0%B0%D0%B4%D1%8B-front-matter).

### canonifyURLs

**Значение по умолчанию** false

Включите, чтобы превратить относительные URL-адреса в абсолютные.

### contentDir

**Значение по умолчанию** "content"

Директория из которой Hugo читает файлы с контентом {{% module-mounts-note-ru %}}

### copyright

**Значение по умолчанию** ""

Копирайт уведомление вашего сайта, обычно располагается в подвале сайта.

### dataDir

**Значение по умолчанию** "data"

Каталог, из которого Hugo читает файлы c данными. Что в некотором роде является аналогом базы данных. {{% module-mounts-note-ru %}}

### defaultContentLanguage

**Значение по умолчанию** "en"

Контент без индикатора языка по умолчанию будет на этом языке.

### defaultContentLanguageInSubdir


**Значение по умолчанию**  false

Параметр позволяет разместить содержимое на языке по умолчанию в подкаталоге, также как и содержимое на переведенных языках, например. `content/en/`. Корень сайта `/` будет перенаправлен на `/en/`.

### disableAliases

**Значение по умолчанию**  false

Отключает генерацию редиректа на алиасы. Обратите внимание, что даже если `disableAliases` установлен в значение true, сами по себе алиасы страницы сохраняются. Это сделано для того, чтобы иметь возможность генерировать 301 редиректы в `.htaccess`, в  Netlify `_redirects` файле или подобных файлах настройки, при использовании пользовательских форматов вывода.

### disableHugoGeneratorInject

**Значение по умолчанию**  false

Hugo по умолчанию вставит метатег генератора в заголовок HTML на только домашней странице. Вы можете отключить его, но мы будем очень признательны, если вы этого не сделаете, так как это хороший способ наблюдать за ростом популярности Hugo.

### disableKinds

**Значение по умолчанию**  []

Включить отключение всех страниц указанных *Типов*. Допустимые значения в этом списке: `"page"`, `"home"`, `"section"`, `"taxonomy"`, `"term"`, `"RSS"`, `"sitemap"`, `"robotsTXT"`, `"404"`.

### disableLiveReload

**Значение по умолчанию**  false

Отключает автоматическую перезагрузку окна браузера в реальном времени.

### disablePathToLower

**Значение по умолчанию**  false

: Не преобразовывать URL в нижний регистр.

### enableEmoji

**Значение по умолчанию**  false

Включить поддержку смайликов Emoji для содержимого страницы; см. [Шпаргалку по эмодзи](https://www.webpagefx.com/tools/emoji-cheat-sheet/).

### enableGitInfo 

**Значение по умолчанию**  false

Включает объект `.GitInfo` для каждой страницы (если версия сайта Hugo управляется Git). Эта настройка  обновит параметр `Lastmod` для каждой страницы, используя дату последнего коммита git для этого файла.

### enableInlineShortcodes

**Значение по умолчанию**  false

Включает  поддержку встроенных в файл контента шорткодов. Позволяет выполнять специальные шаблоны `Go Text` из файлов содержимого. См. [Встроенные шорткоды](/ru/templates/shortcode-templates/#%D0%B2%D1%81%D1%82%D1%80%D0%BE%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5-%D1%88%D0%BE%D1%80%D1%82%D0%BA%D0%BE%D0%B4%D1%8B).


### enableMissingTranslationPlaceholders

**Значение по умолчанию**  false

Показывать заполнитель ( плейсхолдер ) вместо значения по умолчанию или пустую строку, если перевод отсутствует.

### enableRobotsTXT

**Значение по умолчанию**  false

Включить создание файла `robots.txt`.

### frontmatter

См.  [Настройка заголовков Front Matter](/ru/getting-started/configuration/#%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%BF%D0%B0%D1%80%D0%BC%D0%B5%D1%82%D1%80%D0%BE%D0%B2-%D0%B2-%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B5-front-matter).

### googleAnalytics

**Значение по умолчанию**  ""

Идентификатор отслеживания Google Analytics.

### hasCJKLanguage

**Значение по умолчанию** false

Если установлено значение true,  Hugo автоматически определяет китайский/японский/корейский языки в содержимом. Это заставит `.Summary` и `.WordCount` вести себя правильно для языков CJK.

### imaging

См.  [Конфигурация обработки изображений](/ru/content-management/image-processing/#%D0%BA%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D1%8F-%D0%BE%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B8-%D0%B8%D0%B7%D0%BE%D0%B1%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D0%B9).

### languageCode

**Значение по умолчанию**  ""

Тег языка, определенный в [RFC 5646](https://datatracker.ietf.org/doc/html/rfc5646). Это значение используется для заполнения:

- Элемент `<language>` во внутреннем [RSS шаблоне](https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/_default/rss.xml)
- Атрибут `lang` элемента `<html>` во внутреннем [alias шаблоне](https://github.com/gohugoio/hugo/blob/master/tpl/tplimpl/embedded/templates/alias.html)

### languages

См.  [Настройка языков](/ru/content-management/multilingual/#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B0-%D1%8F%D0%B7%D1%8B%D0%BA%D0%BE%D0%B2).

### disableLanguages

См.  [Отключить язык](/ru/content-management/multilingual/#отключить-язык)

### markup

См.  [Настройка  Markup](/ru/getting-started/configuration-markup).

### mediaTypes

См.  [Настройка MIME типов](/ru/templates/output-formats/#mime-типы).

### menus

См.  [Добавить не связанные с контентом  записи  в меню](/ru/content-management/menus/#добавить-не-связанные-с-контентом-записи-в-меню).

### minify

См.  [Настройка минификации файлов](#конфигурация-минификации)

### module

Конфигурация модулей. См. [Конфигурация модулей](/ru/hugo-modules/configuration/).

### newContentEditor

**Значение по умолчанию** ""

Редактор используемый при создании нового контента.

### noChmod

**Значение по умолчанию** false

Не синхронизировать права файлов.

### noTimes

**Значение по умолчанию** false

Не синхронизировать время модификации файлов.

### outputFormats

См. [Конфигурация форматов вывода](#настройка-дополнительных-форматов-вывода).

### paginate

**Значение по умолчанию** 10

Количество элементов [пагинации](/ru/templates/pagination/) по умолчанию .

### paginatePath

**Значение по умолчанию** "page"

Часть URL пути используемая при разбиении на страницы (пагиниции) (`https://example.com/page/2`).

### permalinks

См.  [Управление контентом](/ru/content-management/urls/#постоянные-ссылки).

### pluralizeListTitles

**Значение по умолчанию** true

Используйте множественное число заголовков в списках.  Например есть раздел под названием Music, в списках разделов будет отображаться как Musics. Чтобы предотвратить это поведение используется этот параметр.

### publishDir

**Значение по умолчанию** "public"

Каталог, в который Hugo запишет окончательный статический сайт (файлы HTML и т. д.).

### related

Настройки подборки связанного со страницей контента, т.е. списков под заголовком "Также смотрите" См. [Связанный контент](/ru/content-management/related/#конфигурация-списков-связанного-контента). 

### relativeURLs

**Значение по умолчанию** false

Включите этот параметр, чтобы все относительные URL-адреса генерировались относительно  корневого каталога с содержимым. Обратите внимание, что это не влияет на абсолютные URL-адреса. см. [Относительные URL адреса](/ru/content-management/urls/#относительные-url-адреса)

### refLinksErrorLevel

**Значение по умолчанию** "ERROR"

При использовании  `ref` или `relref` для разрешения (resolve) ссылок на страницы, и ссылка не может быть разрешена, ошибка будет зарегистрирована с этим уровнем.  Допустимые значения `ERROR` (по умолчанию) или `WARNING`. Любая ошибка в логе со статусом  `ERROR` вызовет ошибку при сборке (`exit -1`).

### refLinksNotFoundURL

URL-адрес, используемый в качестве заполнителя, когда ссылка на страницу не может быть найдена в `ref` или `relref`. Используется как есть.

### removePathAccents

**Значение по умолчанию** false

При  включенном параметре  [Nonspacing Marks](https://www.compart.com/en/unicode/category/Mn) из [составных символов Unicode](https://en.wikipedia.org/wiki/Precomposed_character) будут удалены.

  Nonspacing Mark — безынтервальный (непротяжённый) знак; таковые обычно отображаются над или под базовым символом и не занимают отдельной горизонтальной позиции (интервала) в отображаемой строке.

```text
content/post/hügó.md --> https://example.org/post/hugo/
```

### rssLimit

**Значение по умолчанию** -1 (unlimited)

Максимальное количество элементов в RSS-канале.

### sectionPagesMenu

См.  ["Меню раздела для ленивых блогеров"](/ru/templates/menu-templates/#меню-раздела-для-ленивых-блогеров).

### security

См.  [Политика безопасности](/ru/about/security-model/#политика-безопасности)

### sitemap

Настройка по умолчанию для [генерации карты сайта](/ru/templates/sitemap-template/#конфигурация).

### summaryLength

**Значение по умолчанию** 70

Длина текста в словах для отображения в переменной [`.Summary`](/ru/content-management/summaries/#автоматическое-формирование-краткого-содержания-страниц).

### taxonomies

См.  [Конфигурация таксономий](/ru/content-management/taxonomies/#настройка-таксономий).

### theme

См.  [Конфигурация модулей](/ru/hugo-modules/configuration/#конфигурация-модулей-imports), чтобы узнать как импортировать тему.

### themesDir

**Значение по умолчанию**  "themes"

Каталог, из которого Hugo читает темы.

### timeout

**Значение по умолчанию** "30s"

Время ожидания при  генерации страницы с контентом.  Задается в  [Go time duration](https://pkg.go.dev/time#Duration) или в миллисекундах. *Примечание.* Используется для предотвращения рекурсивной  генерации контента. Возможно, вам придется увеличить это ограничение, если ваши страницы генерируются медленно (например, потому что они требуют обработки больших изображений или зависят от удаленного содержимого).

### timeZone

Часовой пояс (или местоположение), например. `Europe/Oslo`, используется для разбора дат указанных в заголовках Front Matter без  информации о часовом поясе и в [функции `time`](/ru/functions/time/). Список допустимых значений может зависеть от системы, но должен соотоветствовать любому местоположению в [базе данных часовых поясов IANA](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones).

### title

Заголовок сайта.

### titleCaseStyle

**Значение по умолчанию**  "AP"

См. [Настройка регистра заголовка](#настройка-регистра-заголовка)

### uglyURLs

**Значение по умолчанию** false

Если `true`,  генерируется URL-адрес вида `/имя_файла.html` вместо `/имя_файла/`.

### watch

**Значение по умолчанию** false

Следить за изменениями в файловой системе и  запускать процесс сборки сайта по мере необходимости.


---

{{% note %}}
Если вы разрабатываете свой сайт на компьютере с  \*nix совместимой операционной системой, вот удобная команда для поиска параметра конфигурации из командной строки:
```txt
cd ~/sites/yourhugosite
hugo config | grep emoji
```

which shows output like

```txt
enableemoji: true
```
{{% /note %}}

## Конфигурация сборки

Раздел конфигурации `build` содержит глобальные параметры конфигурации, связанные с процессом сборки.

{{< code-toggle file="config">}}
[build]
useResourceCacheWhen="fallback"
writeStats = false
noJSConfigInAssets = false
{{< /code-toggle >}}


useResourceCacheWhen

: Когда использовать ресурсы кешированные в `/resources/_gen` для PostCSS и ToCSS. Допустимые значения: `never` (никогда), `always` (всегда) и `fallback`. Последнее значение означает, что кэш будет использован, если  не доступна расширенная версия PostCSS.

writeStats
: Если этот параметр включен, файл с именем `hugo_stats.json` будет записан в корень вашего проекта с некоторыми агрегированными данными о сборке, например список HTML страниц, опубликованных для выполнения [очистки CSS](/ru/hugo-pipes/postprocess/#очистка-css-с-помощью-postcss). Если параметр используется в режиме prodaction, вы должны разместить  этот параметр в файле конфигурации размещенном в директории [config/production](#каталог-конфигурации). Также стоит упомянуть, что из-за характера частичных сборок сервера новые объекты HTML будут добавляться при добавлении или изменении их во время работы сервера, но старые значения не будут удалены до тех пор, пока вы не перезапустите сервер или не запустите обычную сборку командой `hugo`.

**Обратите внимание**, что основной вариант использования этого параметра это очистка неиспользуемого CSS; он создан для скорости, и могут быть ложные срабатывания (например, обнаружение элементов HTML, которые не являются элементами HTML).

noJSConfigInAssets
: Отключает запись файла `jsconfig.json` в директорию `/assets` с отображением импорта из запущенного [js.Build](https://gohugo.io/hugo-pipes/js). Этот файл предназначен для помощи в использовании Intellisense/навигации внутри редакторов кода, таких как [VS Code](https://code.visualstudio.com/). Обратите внимание, что если вы не используете `js.Build`, файл не будет записан.

## Конфигурация сервера Hugo

Этот праметр имеет значение только в режиме разработки (команда `hugo server`) и позволяет устанавливать  HTTP заголовки, что позволяет вам протестировать вашу политику безопасности контента и тому подобное. Формат конфигурации соответствует [Netlify's](https://docs.netlify.com/routing/headers/#syntax-for-the-netlify-configuration-file) с немного более мощным [сопоставлением Glob](https://github. com/gobwas/glob):


{{< code-toggle file="config">}}
[server]
[[server.headers]]
for = "/**"

[server.headers.values]
X-Frame-Options = "DENY"
X-XSS-Protection = "1; mode=block"
X-Content-Type-Options = "nosniff"
Referrer-Policy = "strict-origin-when-cross-origin"
Content-Security-Policy = "script-src localhost:1313"
{{< /code-toggle >}}

Так как этот параметр используется только в среде разработки (`hugo server`), файл с этой настройкой конфигурации  имеет смысл разместить в ниже директории `development`:

{{< code-toggle file="config/development/server">}}
[[headers]]
for = "/**"

[headers.values]
X-Frame-Options = "DENY"
X-XSS-Protection = "1; mode=block"
X-Content-Type-Options = "nosniff"
Referrer-Policy = "strict-origin-when-cross-origin"
Content-Security-Policy = "script-src localhost:1313"
{{< /code-toggle >}}

Вы также можете указать простые правила перенаправления для сервера. Синтаксис снова похож на Netlify.

Обратите внимание, что код состояния 200 вызовет [перезапись URL](https://docs.netlify.com/routing/redirects/rewrites-proxy/), например:

{{< code-toggle file="config/development/server">}}
[[redirects]]
from = "/myspa/**"
to = "/myspa/"
status = 200
force = false
{{< /code-toggle >}}

Установка `force=true` осуществит перенаправление, даже если в директориях есть существующий контент. Обратите внимание, что до Hugo 0.76 `force` было поведением по умолчанию, что соответствует тому, как это делает Netlify.

## Страница 404 ошибки сервера

{{< new-in "0.103.0" >}}

По умолчанию в режиме разработки (команда `hugo server`) все 404 ошибки отображаются с помощью шаблона `404.html` Обратите внимание, что если вы уже добавили одно или несколько перенаправлений в [Конфигурации сервера](#конфигурация-сервера-hugo), вам необходимо явно добавить перенаправление 404, например:

```toml
[[redirects]]
    from   = "/**"
    to     = "/404.html"
    status = 404
```

## Настройка регистра заголовка

Задайте значение параметру `titleCaseStyle` чтобы настроить регистр символов в [заголовке](/ru/functions/title/) используемом в  функции шаблона и автоматических заголовках разделов в Hugo. По умолчанию `AP`, но можно задать значения `Chicago` или `Go` (каждое слово начинается с заглавной буквы).

## Конфигурация переменных окружения

HUGO_NUMWORKERMULTIPLIER
: Эту переменную можно настроить для увеличения или уменьшения количества рабочих процессов, используемых при параллельной обработке в Hugo. Если не задано, будет использоваться количество логических ЦП.

## Порядок поиска файла конфигурации

Подобно [порядку поиска][] шаблона, Hugo имеет набор правил по умолчанию для поиска файла конфигурации в корне исходного каталога вашего веб-сайта.  По умолчанию порядок таков:

1. `./config.toml`
2. `./config.yaml`
3. `./config.json`

В вашем `config` файле вы можете указывать Hugo, как вы хотите, чтобы ваш веб-сайт отображался, управлять меню вашего веб-сайта и произвольно определять параметры всего сайта, специфичные для вашего проекта.
В вашем `config` файле вы можете указывать Hugo, как вы хотите, чтобы ваш веб-сайт отображался, управлять меню вашего веб-сайта и произвольно определять параметры всего сайта, специфичные для вашего проекта.

## Пример конфигурации

Ниже приведен типичный пример файла конфигурации. Значения, вложенные в `params:`, будут заполнять переменную [`.Site.Params`][] для использования в [шаблонах][]:

{{< code-toggle file="config">}}
baseURL: "https://yoursite.example.com/"
title: "My Hugo Site"
permalinks:
  posts: /:year/:month/:title/
params:
  Subtitle: "Hugo is Absurdly Fast!"
  AuthorName: "Jon Doe"
  GitHubUser: "spf13"
  ListOfFoo:
    - "foo1"
    - "foo2"
  SidebarRecentLimit: 5
{{< /code-toggle >}}

## Конфигурация с помощью переменных окружения

В дополнение к трём уже упомянутым параметрам конфигурации, пары «ключ-значение» конфигурации можно определить с помощью переменных окружения операционной системы.

Например, следующая команда эффективно установит заголовок веб-сайта в Unix-подобных системах:

```txt
$ env HUGO_TITLE="Some Title" hugo
```

Это действительно полезно, если вы используете такой сервис, как Netlify, для развертывания своего сайта. Ознакомьтесь с [файлом конфигурации Netlify](https://github.com/gohugoio/hugoDocs/blob/master/netlify.toml) из документации Hugo в качестве примера.

{{% note "Setting Environment Variables" %}}
При настройке переменных окружения операционной системы имена должны иметь префикс `HUGO_`, а ключ конфигурации должен быть установлен в верхнем регистре.

Для подраздела конфигурации `params`, необходимо добавить к имени префикс «HUGO_PARAMS_».
{{% /note %}}

Если вы используете имена переменных в с использованием в качестве разделителя символа нижнего подчеркивания (`snake_cased`), это не сработает. Первый символ казанный после `HUGO` движок Hugo определяет как символ который будет использован в качестве разделителя. Это позволяет вам определять переменные окружения в виде `HUGOxPARAMSxAPI_KEY=abcdefgh`, используя любые [разрешенные](https://stackoverflow.com/questions/2821043/allowed-characters-in-linux-environment-variable-names#:~:text=So%20names%20may%20contain%20any,not%20begin%20with%20a%20digit.) разделители.

## Игнорирование отображения файлов с контентом и данными

Чтобы исключить определенные файлы из каталогов `content` и `data` при отображении вашего сайта, установите для `ignoreFiles` одно или несколько регулярных выражений, чтобы они соответствовали абсолютному пути к файлу.

Чтобы игнорировать файлы, оканчивающиеся на `.foo` или `.boo`:

{{< code-toggle copy="false" >}}
ignoreFiles = ['\.foo$', '\.boo$']
{{< /code-toggle >}}

Чтобы игнорировать файл, используя абсолютный путь к файлу:

{{< code-toggle copy="false" >}}
ignoreFiles = ['^/home/user/project/content/test\.md$']
{{< /code-toggle >}}

## Конфигурация парметров в заголовке Front Matter

### Настройка даты

Даты важны в Hugo, и можно настроить, как Hugo назначает даты страницам контента. Это можно сделать, добавив раздел `frontmatter` в ваш `config.toml`.

Конфигурация по умолчанию:

{{< code-toggle file="config" >}}
[frontmatter]
date = ["date", "publishDate", "lastmod"]
lastmod = [":git", "lastmod", "date", "publishDate"]
publishDate = ["publishDate", "date"]
expiryDate = ["expiryDate"]
{{< /code-toggle >}}

Если у вас, например, есть нестандартный параметр даты в каком-то вашем контенте, вы можете переопределить настройку для `date`:

{{< code-toggle file="config" >}}
[frontmatter]
date = ["myDate", ":default"]
{{< /code-toggle >}}

`:default` — это ссылка к настройкам по умолчанию. В примере выше  для `.Date` устанавливается значение  в `myDate`, если оно присутствует, если нет, движок Hugo будет искать в `date`,`publishDate`, `lastmod` и выберет первую найденную дату.

В списке параметров значения, начинающиеся с «:», являются специальными обработчиками даты (см. ниже). Остальные параметры - это просто имена параметров даты (без учета регистра) в заголовках Front Matter.  Также обратите внимание, что у Hugo есть несколько встроенных псевдонимов:`lastmod` => `modified`, `publishDate` => `pubdate`, `published` и `expiryDate` => `unpublishdate`. Например, при использовании `pubDate` в качестве даты в заголовках Front Matter по умолчанию будет назначено `.PublishDate`.

Специальные обработчики даты:


`:fileModTime`
: Извлекает дату из временной метки последнего изменения файла содержимого.

Пример:

{{< code-toggle file="config" >}}
[frontmatter]
lastmod = ["lastmod", ":fileModTime", ":default"]
{{< /code-toggle >}}


Приведенный выше код попытается сначала извлечь значение для `.Lastmod`, из параметра `lastmod`, а затем из метки времени модификации файла с контентом. Явное указание на `:default` здесь не нужно, так как Hugo, все равно, будет искать действительную дату в `:git`, `date`, а затем `publishDate`.


`:filename`
: Извлекает дату из имени файла с контентом. Например из файла с именем,`2018-02-22-mypage.md` Hugo извлечет дату`2018-02-22`. Кроме того, если `slug` не установлен, `mypage` будет использоваться как значение для `.Slug`.

Пример:

{{< code-toggle file="config" >}}
[frontmatter]
date  = [":filename", ":default"]
{{< /code-toggle >}}

В этом примере сначала движок Hugo  попытается извлечь значение для `.Date` из имени файла, затем он будет искать параметры `date`, `publishDate` и, наконец, `lastmod`.


`:git`
: дата автора Git для последней версии этого файла содержимого. Параметр будет работать только в том случае, если в конфигурации сайта установлены `--enableGitInfo` или `enableGitInfo = true`.

## Настройка дополнительных форматов вывода

Hugo v0.20 представил возможность отображать ваш контент в нескольких выходных форматах (например, в JSON, AMP html или CSV). См. [Форматы вывода][] для получения информации о том, как добавить эти значения в файл конфигурации вашего проекта Hugo.

## Конфигурация минификации

Конфигурация по умолчанию:

{{< code-toggle config="minify" />}}

Вы можете переопределить любой из этих параметров в основном файле конфигурации.

## Настройка кеширования файлов

Начиная с версии Hugo 0.52 вы можете настраивать не только `cacheDir`. Это конфигурация по умолчанию:

{{< code-toggle >}}
[caches]
[caches.getjson]
dir = ":cacheDir/:project"
maxAge = -1
[caches.getcsv]
dir = ":cacheDir/:project"
maxAge = -1
[caches.getresource]
dir = ":cacheDir/:project"
maxAge = -1
[caches.images]
dir = ":resourceDir/_gen"
maxAge = -1
[caches.assets]
dir = ":resourceDir/_gen"
maxAge = -1
[caches.modules]
dir = ":cacheDir/modules"
maxAge = -1
{{< /code-toggle >}}

Вы можете переопределить любой из этих параметров в основном файле конфигурации.

### Значения ключевых слов

`:cacheDir`
: Это значение параметра конфигурации `cacheDir`, если оно установлено (также можно установить с помощью переменной окружения ОС `HUGO_CACHEDIR`). Этот параметр вернет `/opt/build/cache/hugo_cache/` в Netlify или к каталогу `hugo_cache` ниже временного каталога опереционной системы для других случаев. Это означает, что если вы запускаете свои сборки на Netlify, все кэши, настроенные с помощью `:cacheDir`, будут сохранены и восстановлены при следующей сборке. Для других сервисов предоставляющих услуги непрерывной интеграции (CI vendors), пожалуйста, прочитайте их документацию. Пример для сервиса CircleCI см. [эту конфигурацию](https://github.com/bep/hugo-sass-test/blob/6c3960a8f4b90e8938228688bc49bdcdd6b2d99e/.circleci/config.yml).

`:project`
: Базовое имя каталога текущего проекта Hugo. Это означает, что по умолчанию каждый проект будет иметь отдельные файловые кеши, а это означает, что при выполнении `hugo --gc` вы не будете касаться файлов, связанных с другими проектами Hugo, работающими на том же ПК.

`:resourceDir`
: Это значение параметра конфигурации `resourceDir`.

maxAge
: это время, по истечении которого запись в кэше будет удалена, -1 означает навсегда, а 0 эффективно отключает этот конкретный кэш. Использует `time.Duration` Go, поэтому допустимые значения: `"10s"` (10 секунд), `"10m"` (10 минут) и `"10h"` (10 часов).

dir
: Абсолютный путь, где будут храниться файлы для этого кеша. Допустимыми начальными значениями являются `:cacheDir` и `:resourceDir` (см. выше).

## Спецификации форматов конфигурации

- [TOML Spec][toml]
- [YAML Spec][yaml]
- [JSON Spec][json]

[`.Site.Params`]: /ru/variables/site/
[directory structure]: /ru/getting-started/directory-structure
[json]: https://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf "Specification for JSON, JavaScript Object Notation"
[порядку поиска]: /ru/templates/lookup-order/
[Форматы вывода]: /ru/templates/output-formats/
[шаблонах]: /ru/templates/
[toml]: https://github.com/toml-lang/toml
[yaml]: https://yaml.org/spec/
[static-files]: /ru/content-management/static-files/
